<div class="form-container">
  <h2>Demande de Congé</h2>
  <form [formGroup]="demandeForm" (ngSubmit)="onSubmit()">
    <div class="form-group">
      <label for="leaveType">Motif</label>
      <mat-form-field appearance="fill">
        <mat-label>Motif</mat-label>
        <mat-select formControlName="leaveType" (selectionChange)="onMotifChange($event)">
          <mat-option *ngFor="let motif of motifs" [value]="motif.titre">
            {{ motif.titre }}
          </mat-option>
        </mat-select>
      </mat-form-field>
    </div>

    <div class="form-group solde-info" *ngIf="selectedMotif">
      <div class="solde-box">
        <p><strong>Solde initial:</strong> {{ selectedMotif.soldeInitial }}</p>
      </div>
      <div class="solde-box" *ngIf="userSolde !== null">
        <p><strong>Votre solde:</strong> {{ userSolde }}</p>
      </div>
    </div>

    <div class="form-group">
      <label for="startDate">Date de début</label>
      <input matInput id="startDate" type="date" formControlName="startDate">
    </div>

    <div class="form-group">
      <label for="endDate">Date de retour</label>
      <input matInput id="endDate" type="date" formControlName="endDate">
    </div>

    <div class="form-group">
      <label for="message">Commentaire</label>
      <textarea matInput id="message" formControlName="message"></textarea>
    </div>

    <div class="form-group">
      <label for="justificatif">Justificatif</label>
      <input id="justificatif" type="file" (change)="onFileSelected($event)">
    </div>

    <button type="submit" mat-raised-button color="primary">Envoyer</button>
  </form>
</div>
